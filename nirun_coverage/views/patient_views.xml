<?xml version="1.0" encoding="utf-8" ?>
<!--
  ~ Copyright (c) 2021 NSTDA
  -->
<odoo>
    <record id="patient_view_form_inherit" model="ir.ui.view">
        <field name="name">patient.view.form.inherit</field>
        <field name="model">ni.patient</field>
        <field name="inherit_id" ref="nirun_patient.patient_view_form" />
        <field name="priority">40</field>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page name="coverage" string="Coverage">
                    <field
                        name="coverage_ids"
                        context="{'default_patient_id': id, 'default_state': 'active', 'sub_view': True}"
                        mode="tree"
                        nolabel="1"
                    >
                        <tree
                            decoration-bf="state == 'draft'"
                            decoration-muted="state in ['cancelled', 'entered-in-error']"
                        >
                            <field name="sequence" widget="handle" />
                            <field name="name" />
                            <field name="type_id" />
                            <field name="period_start" optional="hide" />
                            <field name="period_end" optional="hide" />
                            <field name="state" />
                        </tree>
                    </field>
                </page>
            </xpath>
        </field>
    </record>
    <record id="patient_view_tree_inherit" model="ir.ui.view">
        <field name="name">patient.view.tree.inherit</field>
        <field name="model">ni.patient</field>
        <field name="inherit_id" ref="nirun_patient.patient_view_tree" />
        <field name="arch" type="xml">
            <field name="mobile" position="after">
                <field name="coverage_id" optional="show" />
            </field>
        </field>
    </record>
</odoo>
